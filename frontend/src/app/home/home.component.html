<app-background></app-background>
<div class="terminal" (click)="focusTerminalInput()">
  <div class="terminal-content">
    <!-- Initial typewriter content -->
    <div class="terminal-line" *ngIf="lastLoginTime">
      <span class="timestamp" [ngClass]="{'glitch-effect': isGlitching}">{{ lastLoginTime }}</span>
    </div>
    
    <div class="terminal-line" *ngIf="greeting">
      <span class="greeting" [ngClass]="{'glitch-effect': isGlitching}">{{ greeting }}</span>
    </div>
    
    <div class="terminal-line" *ngIf="systemInfo">
      <span class="info" [ngClass]="{'glitch-effect': isGlitching}">{{ systemInfo }}</span>
    </div>
    
    <div class="terminal-line" *ngIf="helpText">
      <span class="help" [ngClass]="{'glitch-effect': isGlitching}">{{ helpText }}</span>
    </div>
    
    <!-- Command outputs -->
    <div class="terminal-line" [ngClass]="{'command-line': output.type === 'command'}" *ngFor="let output of terminalOutputs">
      <span *ngIf="output.type === 'command'" class="prompt" [ngClass]="{'glitch-effect': isGlitching}">
        <span class="prompt-user">root</span><span class="prompt-at">&#64;</span><span class="prompt-host">personal-site</span><span class="prompt-colon">:</span><span class="prompt-path">~</span><span class="prompt-dollar">$</span>
      </span>
      <span [ngClass]="{'glitch-effect': isGlitching}" [class]="getOutputClass(output.type)" [innerHTML]="output.content | nl2br"></span>
    </div>
    
    <!-- Current command input -->
    <div class="terminal-line command-line" *ngIf="prompt">
      <span class="prompt" [ngClass]="{'glitch-effect': isGlitching}">
        <span class="prompt-user">root</span><span class="prompt-at">&#64;</span><span class="prompt-host">personal-site</span><span class="prompt-colon">:</span><span class="prompt-path">~</span><span class="prompt-dollar">$</span>
      </span>
      <input 
        #terminalInput
        type="text" 
        class="command-input" 
        [ngClass]="{'glitch-effect': isGlitching}"
        [(ngModel)]="currentCommand"
        (keydown)="onKeyDown($event)"
        placeholder=""
        autofocus>
    </div>
  </div>
</div>
<app-social-entry></app-social-entry>
<app-music-player></app-music-player>

<!-- Demo button for Slack notifications -->
<div class="demo-controls">
  <button class="demo-btn" (click)="testSlackNotification()">
    Test Slack Notification
  </button>
</div>

